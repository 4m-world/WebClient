<header id="conversationHeader">
    <span class="pm_buttons starButton">
        <a ng-click="toggleStar(conversation)" pt-tooltip-translate="Star" class="fa fa-star-o" ng-show="!starred(conversation)"></a>
        <a ng-click="toggleStar(conversation)" pt-tooltip-translate="Unstar" class="fa fa-star" ng-show="starred(conversation)"></a>
    </span>
    <h1>
        <span ng-show="conversation.NumMessages > 1">({{ conversation.NumMessages }})</span>
        <span ng-bind="conversation.Subject"></span>
    </h1>
    <div ng-hide="('secured.search.view' | includedByState) || ('secured.label.view' | includedByState)" class="containsMessage">
        <p ng-show="nonTrashed() && inTrash === true" class="alert">
            <span translate translate-context="Info">This conversation contains non-trashed messages.</span>
            <a href="#" ng-click="toggleNonTrashed()">
                <span ng-show="showNonTrashed === true">Hide non trashed messages</span>
                <span ng-hide="showNonTrashed === true">Show non trashed messages</span>
            </a>
        </p>
        <p ng-show="trashed() && inTrash === false" class="alert">
            <span translate translate-context="Info">This conversation contains trashed messages.</span>
            <a href="#" ng-click="toggleTrashed()">
                <span ng-show="showTrashed === true">Hide trashed messages</span>
                <span ng-hide="showTrashed === true">Show trashed messages</span>
            </a>
        </p>
    </div>
</header>
<div id="pm_thread" pt-height>
    <ng-include src="'templates/partials/message.tpl.html'" ng-repeat="message in messages track by message.ID"></ng-include>
</div>
