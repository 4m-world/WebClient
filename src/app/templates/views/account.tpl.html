<div id="pm_settings">

    <ng-include src="'templates/partials/menu.settings.tpl.html'"></ng-include>

    <div class="settings" ng-height>

        <div class="row">

            <section class="setting pm_form">
                <legend class="margin-top">{{ 'DISPLAY_NAME' | translate }}</legend>
                <form ng-submit="saveDisplayName(displayNameForm)" name="displayNameForm" novalidate method="post">
                    <div class="col left">
                        <label for="displayName">{{ 'DISPLAY_NAME' | translate }}</label>
                    </div>
                    <div class="col right">
                        <input id="displayName" type="text" name="displayName" ng-model="displayName" />
                        <p>
                            <a href="https://protonmail.com/support/knowledge-base/display-name/" target="_blank" class="pm_button link">
                                {{ 'WHAT_IS_THE_DISPLAY_NAME?' | translate }}
                            </a>
                        </p>
                        <button class="pm_button primary" type="submit">{{ 'SAVE' | translate }}</button>
                    </div>
                </form>
            </section>

            <section class="setting pm_form pull-right">
                <legend>{{ 'NOTIFICATIONS' | translate }}</legend>
                <form name="notificationForm" ng-submit="saveNotification(notificationForm)" novalidate method="post">
                    <div class="clearfix">
                        <div class="col left">
                            <label for="noticeePassword">{{ 'CURRENT_LOGIN_PASSWORD' | translate }}</label>
                        </div>
                        <div class="col right">
                            <input type="password" autocomplete="off" placeholder="Current Login Password" required ng-model="noticeePassword" id="noticeePassword">
                        </div>
                    </div>
                    <div class="clearfix">
                        <div class="col left">
                            <label for="notificationEmail">{{ 'RECOVERY_EMAIL' | translate }}</label>
                        </div>
                        <div class="col right">
                            <input class="margin" type="email" id="notificationEmail" name="notificationEmail" placeholder="Notification/Recovery {{ 'EMAIL' | translate }}" ng-model="notificationEmail" />
                            <p class="help-block"><small><i class="fa fa-info-circle"></i> Also used to reset a forgotten password.</small></p>

                            <button class="pm_button primary" type="submit">{{ 'SAVE' | translate }}</button>
                        </div>
                    </div>
                    <div class="clearfix">
                        <div class="col left">
                            <label>{{ 'DAILY_EMAIL_NOTIFICATIONS' | translate }}</label>
                        </div>
                        <div class="col right">
                            <div class="radio">
                                <label ng-click="saveDailyNotifications()">
                                    <input type="radio" ng-model="dailyNotifications" name="dailyNotifications" value="1"> Enabled
                                </label>
                            </div>
                            <div class="radio">
                                <label ng-click="saveDailyNotifications()">
                                    <input type="radio" ng-model="dailyNotifications" name="dailyNotifications" value="0"> Disabled
                                </label>
                            </div>
                            <a href="https://protonmail.com/blog/notification-emails/" target="_blank" class="pm_button link">{{ 'HOW_DOES_THIS_WORK?' | translate }}</a>
                        </div>
                    </div>
                    <p ng-show="!!!tools.validEmail(notificationEmail) && notificationEmail.trim()!==''" class="text-danger">{{ 'INVALID_EMAIL' | translate }}.</p>
                </form>
            </section>

        </div><!--/.row-->

        <div class="row">

            <section class="setting pm_form">
                <legend>{{ 'LOGIN_PASSWORD' | translate }}</legend>
                <form ng-submit="saveLoginPassword(loginForm)" name="loginForm" novalidate method="post">
                    <div class="clearfix">
                        <div class="col left">
                            <label for="oldLoginPassword">{{ 'CURRENT_LOGIN_PASSWORD' | translate }}</label>
                        </div>
                        <div class="col right">
                            <input type="password" id="oldLoginPassword" name="oldLoginPassword" ng-model="oldLoginPassword" placeholder="Current Login Password" required="" />
                        </div>
                    </div>
                    <div class="clearfix">
                        <div class="col left">
                            <label for="newLoginPassword">{{ 'NEW_LOGIN_PASSWORD' | translate }}</label>
                        </div>
                        <div class="col right">
                            <input type="password" id="newLoginPassword" name="newLoginPassword" ng-model="newLoginPassword" placeholder="New Login Password" required="" />
                        </div>
                    </div>
                    <div class="clearfix">
                        <div class="col left">&nbsp;</div>
                        <div class="col right">
                            <input type="password" id="confirmLoginPassword" name="confirmLoginPassword" ng-model="confirmLoginPassword" placeholder="Confirm New Login Password" required="" class="margin" />
                            <button class="pm_button primary" type="submit">{{ 'SAVE' | translate }}</button>
                        </div>
                    </div>
                </form>
            </section>

            <section class="setting pm_form pull-right">
                <legend>{{ 'MAILBOX_PASSWORD' | translate }}</legend>
                <form ng-submit="saveMailboxPassword(mailboxForm)" name="mailboxForm" novalidate method="post">
                    <div class="clearfix">
                        <div class="col left">
                            <label for="currentLoginPassword">{{ 'CURRENT_LOGIN_PASSWORD' | translate }}</label>
                        </div>
                        <div class="col right">
                            <input type="password" id="currentLoginPassword" name="currentLoginPassword" ng-model="currentLoginPassword" placeholder="{{ 'CURRENT_LOGIN_PASSWORD' | translate }}" required="" />
                        </div>
                    </div>
                    <div class="clearfix">
                        <div class="col left">
                            <label for="oldMailboxPassword">{{ 'CURRENT_MAILBOX_PASSWORD' | translate }}</label>
                        </div>
                        <div class="col right">
                            <input type="password" id="oldMailboxPassword" name="oldMailboxPassword" ng-model="oldMailboxPassword" placeholder="Current Mailbox Password" required="" />
                        </div>
                    </div>
                    <div class="clearfix">
                        <div class="col left">
                            <label for="newMailboxPassword">{{ 'NEW_MAILBOX_PASSWORD' | translate }}</label>
                        </div>
                        <div class="col right">
                            <input type="password" id="newMailboxPassword" name="newMailboxPassword" ng-model="newMailboxPassword" placeholder="New Mailbox Password" required="" />
                        </div>
                    </div>
                    <div class="clearfix">
                        <div class="col left">&nbsp;</div>
                        <div class="col right">
                            <input type="password" id="confirmMailboxPassword" name="confirmMailboxPassword" ng-model="confirmMailboxPassword" placeholder="Confirm New Mailbox Password" class="margin" required="" />
                            <button class="pm_button primary" type="submit">{{ 'SAVE' | translate }}</button>
                        </div>
                    </div>
                    <div class="clearfix">
                        <div class="col left">&nbsp;</div>
                        <div class="col right">
                            <a href="https://protonmail.com/support/knowledge-base/resetting-mailbox-password/" target="_blank" class="pm_button link pull-left">{{ 'HOW_DOES_THIS_WORK?' | translate }}</a>
                        </div>
                    </div>
                </form>
            </section>

        </div><!--/.row-->

        <div class="row">

            <section class="setting pm_form">
                <legend>{{ 'ALIASES' | translate }}</legend>
                <div class="clearfix">
                    <div class="col left">
                        <label for="">{{ 'SORT_ALIASES' | translate }}</label>
                    </div>
                    <div class="col right">
                        <div class="pm_sort">
                            <ul data-as-sortable="aliasDragControlListeners" data-ng-model="aliases">
                                <li ng-repeat="alias in aliases" as-sortable-item="">
                                    <div as-sortable-item-handle="">
                                        <i class="fa fa-ellipsis-v"></i>
                                        {{ alias.Email }} <i ng-show="$index == 0" class="pull-right fa fa-check"></i>
                                    </div>
                                </li>
                            </ul>
                        </div>
                        <p class="help-block"><small><i class="fa fa-info-circle"></i> You can drag and drop aliases to order them.</small></p>
                        <a href="https://protonmail.com/support/knowledge-base/aliases-within-protonmail/" target="_blank" class="pull-left pm_button link">{{ 'WHAT_ARE_ALIASES?' | translate }}</a>
                    </div>
                </div>
            </section>

            <section class="setting pm_form pull-right">
                <legend>{{ 'AUTOSAVE_CONTACT_LIST' | translate }}</legend>
                <div class="clearfix">
                    <div class="col left">
                        <label>{{ 'AUTOSAVE_CONTACTS' | translate }}</label>
                    </div>
                    <div class="col right">
                        <div class="radio">
                            <label>
                                <input type="radio" ng-model="autosaveContacts" value="1" ng-change="saveAutosaveContacts()" /> {{ 'ENABLED' | translate }}
                            </label>
                        </div>
                        <div class="radio">
                            <label>
                                <input type="radio" ng-model="autosaveContacts" value="0" ng-change="saveAutosaveContacts()" /> {{ 'DISABLED' | translate }}
                            </label>
                        </div>
                        <p>
                            <a href="https://protonmail.com/support/knowledge-base/autosave-contact-list" target="_blank" class="pm_button link">{{ 'HOW_DOES_THIS_WORK?' | translate }}</a>
                        </p>
                    </div>
                </div>
            </section>

        </div><!--/.row-->

        <div class="row">

            <section class="setting pm_form">
                <legend>{{ 'SIGNATURE' | translate }}</legend>
                <form ng-submit="saveSignature(signatureForm)" name="signatureForm" novalidate method="post">
                    <div class="margin" ng-class="{'has-error': signatureForm.signature.$error.required}">
                        <squire id="signature" name="signature" class="form-control no-resize" ng-model="signature"></squire>
                    </div>
                    <button class="pm_button primary" type="submit">{{ 'SAVE' | translate }}</button>
                </form>
            </section>

            <section class="setting pm_form pull-right">
                <legend>{{ 'EMAIL_IMAGES' | translate }}</legend>
                <form novalidate ng-submit="saveShowImages(showImages)" name="showImages" method="post">
                    <div class="clearfix">
                        <div class="col left">
                            <label class="control-label">{{ 'SHOW_IMAGES' | translate }}</label>
                        </div>
                        <div class="col right">
                            <div class="radio">
                                <label>
                                    <input type="radio" ng-model="ShowImages" value="1" ng-change="saveShowImages(showImages)" /> {{ 'AUTO' | translate }}
                                </label>
                            </div>
                            <div class="radio">
                                <label>
                                    <input type="radio" ng-model="ShowImages" value="0" ng-change="saveShowImages(showImages)" /> {{ 'MANUAL' | translate }}
                                </label>
                            </div>
                            <p>
                                <a href="" target="_blank" class="pm_button link">{{ 'HOW_DOES_THIS_WORK?' | translate }}</a>
                            </p>
                        </div>
                    </div>
                </form>
            </section>

        </div><!--/.row-->

    </div>
</div>
